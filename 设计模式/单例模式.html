<html>
<body>
	<button tag="login" id="button">点击打开登录浮层</button>
</body>
<script>
	Function.prototype.after = function( afterfn ){
        console.log(this);
		var __self = this;
		return function(){
			var ret = __self.apply( this, arguments );
			afterfn.apply( this, arguments );
			return ret;
		}
	};
	var showLogin = function(){
		console.log( '打开登录浮层' );
	};
	var log = function(){
        
		console.log( '上报标签为: ' + this.getAttribute( 'tag' ) );

	};
	document.getElementById( 'button' ).onclick = showLogin.after( log );
// 打开登录浮层之后上报数据
</script>

<script>
	class Singleton {
		constructor() {}
	}

	Singleton.getInstance = (function() {
		let instance
		return function() {
			if (!instance) {
			instance = new Singleton()
			}
			return instance
		}
	})()

	let s1 = Singleton.getInstance()
	let s2 = Singleton.getInstance()
	console.log(s1 === s2) // true
</script>
</html>